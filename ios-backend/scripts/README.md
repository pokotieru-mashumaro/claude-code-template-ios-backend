# Scripts

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€é–‹ç™ºã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸš€ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### 1. setup-dev-env.sh

**ç”¨é€”**: é–‹ç™ºç’°å¢ƒã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**ä½¿ç”¨æ–¹æ³•**:
```bash
./scripts/setup-dev-env.sh
```

**å®Ÿè¡Œå†…å®¹**:
- Node.js, PostgreSQL, Xcodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
- Backendä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- .envãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•ç”Ÿæˆ
- Prismaã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- iOSä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆCocoaPodsï¼‰
- Git hooksã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Claude Code hooksã®å®Ÿè¡Œæ¨©é™ä»˜ä¸

**æ¨å¥¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³ç›´å¾Œ

---

### 2. generate-feature.sh

**ç”¨é€”**: æ–°æ©Ÿèƒ½ã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆ

**ä½¿ç”¨æ–¹æ³•**:
```bash
./scripts/generate-feature.sh <feature-name> <type>
```

**ä¾‹**:
```bash
# CRUDæ©Ÿèƒ½ã®å®Œå…¨ãªå®Ÿè£…
./scripts/generate-feature.sh Post crud

# APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã¿
./scripts/generate-feature.sh Comment api

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿
./scripts/generate-feature.sh Like docs
```

**ã‚¿ã‚¤ãƒ—**:
- `crud`: CRUDæ©Ÿèƒ½ã®å®Œå…¨ãªå®Ÿè£…ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ + Backend API + iOS UIï¼‰
- `api`: Backend APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã¿
- `ios`: iOSç”»é¢ã¨ViewModelã®ã¿
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿

**ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«**:
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `docs/requirements/{feature-kebab}.md`
- Backend API: `backend/app/api/{feature-kebab}/route.ts`
- Backend API (IDæŒ‡å®š): `backend/app/api/{feature-kebab}/[id]/route.ts`

**æ¨å¥¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: æ–°æ©Ÿèƒ½è¿½åŠ æ™‚

---

### 3. validate-project.sh

**ç”¨é€”**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­è¨ˆã®å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆPhase 0å®Œäº†ç¢ºèªï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```bash
./scripts/validate-project.sh
```

**ãƒã‚§ãƒƒã‚¯å†…å®¹**:
- âœ… å¿…é ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å­˜åœ¨ç¢ºèª
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®æœªè¨˜å…¥é …ç›®ãƒã‚§ãƒƒã‚¯
- âœ… Prismaã‚¹ã‚­ãƒ¼ãƒã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
- âœ… APIè¨­è¨ˆã®å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯
- âœ… Claude Codeè¨­å®šã®ç¢ºèª
- âœ… .gitignoreã®ç¢ºèª
- âœ… å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã®é€²æ—ç¢ºèª

**æ¨å¥¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: Phase 0ï¼ˆè¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºï¼‰å®Œäº†æ™‚ã€Phase 1é–‹å§‹å‰

---

## ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½¿ç”¨ãƒ•ãƒ­ãƒ¼

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚

```bash
# 1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼
cp -r claude-code-template-ios-backend /path/to/your-project
cd /path/to/your-project

# 2. é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
./scripts/setup-dev-env.sh

# 3. .claude/CLAUDE.md ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
# 4. .claude/hooks/requirements-consistency-check.sh ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

# 5. è¦ä»¶å®šç¾©ãƒ»è¨­è¨ˆæ›¸ã‚’ä½œæˆ

# 6. è¨­è¨ˆå®Œäº†ãƒã‚§ãƒƒã‚¯
./scripts/validate-project.sh
```

### æ–°æ©Ÿèƒ½è¿½åŠ æ™‚

```bash
# 1. æ©Ÿèƒ½ç”Ÿæˆ
./scripts/generate-feature.sh User crud

# 2. ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
# - docs/requirements/user.md
# - backend/app/api/user/route.ts
# - backend/app/api/user/[id]/route.ts

# 3. Prismaã‚¹ã‚­ãƒ¼ãƒã«ãƒ¢ãƒ‡ãƒ«è¿½åŠ 
# backend/prisma/schema.prisma ã‚’ç·¨é›†

# 4. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
cd backend
npx prisma db push
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã§ããªã„

```bash
# å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸
chmod +x scripts/*.sh
```

### setup-dev-env.sh ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

- Node.js 18ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- PostgreSQLãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- macOSã§iOSé–‹ç™ºã™ã‚‹å ´åˆã€XcodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### generate-feature.sh ã§ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒå‹•ã‹ãªã„

- Prismaã‚¹ã‚­ãƒ¼ãƒã«ãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ ã—ãŸã‹ç¢ºèª
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ¼ãƒã‚’å®Ÿè£…ã—ãŸã‹ç¢ºèª
- èªè¨¼ãŒå¿…è¦ãªå ´åˆã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’è¿½åŠ ã—ãŸã‹ç¢ºèª

### validate-project.sh ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¾“ã£ã¦ã€ä¸è¶³ã—ã¦ã„ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
- [è¨˜å…¥]ã€[æ—¥ä»˜]ã€[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå]ãªã©ã®æœªè¨˜å…¥é …ç›®ã‚’åŸ‹ã‚ã‚‹

---

## ğŸ¯ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

### generate-feature.sh ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

iOS UIã®è‡ªå‹•ç”Ÿæˆã‚’å®Ÿè£…ã™ã‚‹å ´åˆ:

```bash
generate_ios_ui() {
    echo -e "${GREEN}ğŸ“± iOS UIç”Ÿæˆä¸­...${NC}"

    # Viewã¨ViewModelã‚’ç”Ÿæˆ
    # templates/ é…ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨
}
```

### validate-project.sh ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹å ´åˆ:

```bash
check_custom_requirement() {
    echo ""
    echo -e "${BLUE}ğŸ” ã‚«ã‚¹ã‚¿ãƒ ãƒã‚§ãƒƒã‚¯...${NC}"

    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯
}
```

---

**æœ€çµ‚æ›´æ–°æ—¥**: 2025-12-03
