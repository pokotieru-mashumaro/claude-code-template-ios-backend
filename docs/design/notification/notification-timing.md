# 通知タイミング設計

> このファイルはアプリケーションの通知タイミングを定義します。
> 通知機能が不要な場合は、このファイルは削除してください。

---

## 概要

プッシュ通知とアプリ内通知のタイミング、内容、条件を定義します。

---

## プッシュ通知

### 1. [通知タイプ1]

**トリガー**: [通知が送信される条件]

**タイミング**: [いつ送信されるか]

**通知内容**:
- タイトル: "[タイトル]"
- 本文: "[本文]"

**タップ時の動作**:
- [タップ時に開く画面や実行されるアクション]

**送信条件**:
- [ ] ユーザーが通知を許可している
- [ ] [その他の条件]

---

### 2. [通知タイプ2]

**トリガー**: [通知が送信される条件]

**タイミング**: [いつ送信されるか]

**通知内容**:
- タイトル: "[タイトル]"
- 本文: "[本文]"

**タップ時の動作**:
- [タップ時に開く画面や実行されるアクション]

**送信条件**:
- [ ] ユーザーが通知を許可している
- [ ] [その他の条件]

---

## アプリ内通知

### 1. [通知タイプ1]

**トリガー**: [通知が表示される条件]

**表示タイミング**: [いつ表示されるか]

**表示内容**:
- タイトル: "[タイトル]"
- 本文: "[本文]"
- アクション: [ボタンなどのアクション]

**表示場所**:
- [画面のどこに表示されるか]

---

## 通知設定

### ユーザーが設定できる項目

- [ ] プッシュ通知 ON/OFF
- [ ] [通知タイプ1] ON/OFF
- [ ] [通知タイプ2] ON/OFF

### デフォルト設定

| 項目 | デフォルト |
|-----|----------|
| プッシュ通知 | ON |
| [通知タイプ1] | ON |
| [通知タイプ2] | ON |

---

## 通知頻度制限

### レート制限

- **同一ユーザーへの通知**: 1時間に最大[N]件
- **同一タイプの通知**: 24時間に最大[N]件

### 送信時間帯制限

- **送信可能時間**: 9:00 〜 21:00
- **深夜の通知**: 送信しない（緊急通知を除く）

---

## 通知の優先度

| 優先度 | 説明 | 例 |
|-------|------|-----|
| 高 | 即座に表示 | [例] |
| 中 | 通常の通知 | [例] |
| 低 | まとめて表示 | [例] |

---

## 通知の管理

### バックエンド

- **通知送信**: Firebase Cloud Messaging / APNs
- **通知履歴**: データベースに保存
- **未読管理**: ユーザーごとに未読カウント

### iOS

- **通知許可**: アプリ起動時にリクエスト
- **通知設定**: 設定画面から変更可能
- **通知表示**: UserNotifications framework

---

**最終更新日**: [日付]
