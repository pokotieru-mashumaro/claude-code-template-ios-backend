# システムアーキテクチャ

## 概要

React Native (Expo) + Next.js Backend + Supabase のハイブリッドアーキテクチャです。

---

## アーキテクチャ図

```
┌─────────────────────────────────────────────────────────────┐
│                    React Native (Expo)                       │
│  ┌─────────────────────────────────────────────────────────┐│
│  │                      App                                 ││
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  ││
│  │  │   Screens   │  │ Components  │  │     Hooks       │  ││
│  │  │ (Expo       │  │             │  │   (useAuth,     │  ││
│  │  │  Router)    │  │             │  │    etc.)        │  ││
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  ││
│  └─────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────┘
         │                                      │
         │ 単純なCRUD                           │ 複雑な処理
         ▼                                      ▼
┌─────────────────────┐              ┌─────────────────────────┐
│      Supabase       │              │   Next.js Backend       │
│  ┌───────────────┐  │              │  ┌─────────────────────┐│
│  │   PostgreSQL  │  │              │  │    API Routes       ││
│  │      +RLS     │  │              │  └─────────────────────┘│
│  └───────────────┘  │              │            │            │
│  ┌───────────────┐  │              │            ▼            │
│  │     Auth      │  │              │  ┌─────────────────────┐│
│  └───────────────┘  │              │  │   Prisma + Supabase ││
│  ┌───────────────┐  │              │  └─────────────────────┘│
│  │   Storage     │  │              └─────────────────────────┘
│  └───────────────┘  │                          │
│  ┌───────────────┐  │                          │
│  │   Realtime    │  │←─────────────────────────┘
│  └───────────────┘  │
└─────────────────────┘
```

---

## 技術スタック

| レイヤー | 技術 |
|---------|------|
| Mobile | React Native (Expo), Expo Router |
| Backend | Next.js API Routes |
| Database | Supabase PostgreSQL + Prisma ORM |
| 認証 | Supabase Auth + SecureStore |
| ストレージ | Supabase Storage |
| ホスティング | Vercel (Backend), EAS (Mobile) |

---

**最終更新日**: [日付]
